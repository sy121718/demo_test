CREATE TABLE `cp_receipt_goods` (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键ID',
  `receipt_id` int(11) NOT NULL COMMENT '货单ID',
  `raw_id` int(50) NOT NULL COMMENT '原料id',
  `specification` varchar(255) DEFAULT NULL COMMENT '规格',
  `quantity` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '数量',
  `purchase_price` decimal(10,2) DEFAULT '0.00' COMMENT '本次进价',
  `last_purchase_price` decimal(10,2) DEFAULT '0.00' COMMENT '上次进价',
  `amount` decimal(12,2) DEFAULT NULL COMMENT '金额（数量×进价）',
  `remark` varchar(500) DEFAULT '' COMMENT '备注',
  `create_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '创建时间（时间戳）',
  `update_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '更新时间（时间戳）',
  `del` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '删除标志（0正常 1删除）',
  PRIMARY KEY (`id`),
  KEY `idx_receipt_id` (`receipt_id`),
  KEY `idx_goods_sn` (`raw_id`)
) ENGINE=InnoDB AUTO_INCREMENT=38 DEFAULT CHARSET=utf8mb4 COMMENT='采购收货商品表';
CREATE TABLE `cp_purchase_receipt` (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键ID',
  `order_id` varchar(50) NOT NULL COMMENT '单号',
  `order_number` int(11) DEFAULT NULL COMMENT '订单号',
  `warehouse_id` int(11) NOT NULL COMMENT '仓库ID',
  `warehouse_name_id` int(11) DEFAULT NULL COMMENT '仓管员ID',
  `buyer_id` int(11) DEFAULT NULL COMMENT '采购员（领料员、业务员）',
  `department_id` int(11) DEFAULT NULL COMMENT '部门ID',
  `creator_id` int(11) NOT NULL COMMENT '制单人ID',
  `create_time` int(11) DEFAULT NULL COMMENT '制单日期',
  `discount` decimal(10,2) DEFAULT '0.00' COMMENT '折扣',
  `order_amount` decimal(15,2) DEFAULT NULL COMMENT '订单金额',
  `auditor_id` int(11) DEFAULT NULL COMMENT '审核人ID',
  `audit_time` int(11) DEFAULT NULL COMMENT '审核日期',
  `supplier_id` int(11) DEFAULT NULL COMMENT '供应商ID',
  `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '订单状态（0-未审核，1-已审核，2-审核不通过）',
  `source` varchar(255) DEFAULT NULL COMMENT '单据来源',
  `remark` varchar(255) DEFAULT NULL COMMENT '备注',
  `print_num` int(11) DEFAULT '0' COMMENT '打印次数',
  `type` tinyint(1) DEFAULT '0' COMMENT '类型（0：收货单；1：退货单，2：破损单，3：领用单，4：调整单，5：盘点差异处理单，6：销售单，7：对账单，8，付款单）',
  `related_receipt_id` int(11) DEFAULT NULL COMMENT '收货单ID（仅退货单需要）',
  `update_time` int(11) DEFAULT NULL COMMENT '更新时间（时间戳）',
  `del` tinyint(1) NOT NULL DEFAULT '0' COMMENT '删除标志（0-未删除，1-已删除）',
  PRIMARY KEY (`id`),
  KEY `idx_warehouse_id` (`warehouse_id`),
  KEY `idx_buyer_id` (`buyer_id`),
  KEY `idx_supplier_id` (`supplier_id`),
  KEY `idx_create_time` (`create_time`),
  KEY `idx_status` (`status`),
  KEY `order_id` (`order_id`)
) ENGINE=InnoDB AUTO_INCREMENT=26 DEFAULT CHARSET=utf8mb4 COMMENT='采购货单表';